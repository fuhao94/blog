# 性能优化

### shouldComponentUpdate

React默认：父组件有更新，子组件无论数据是否改变则无条件也更新

必须配合“不可变值”一起使用

```js
shouldComponentUpdate(nextProps, nextState) {
    if (nextProps.text !== this.props.text
        || nextProps.length !== this.props.length) {
        return true // 可以渲染
    }
    return false // 不重复渲染
}
```

### PureComponent和React.memo

1. PureComponent，SCU中实现了浅比较
2. memo，函数组件中的PureComponent
3. 浅比较已适用大部分情况（尽量不要深度比较）
    
### immutable.js
